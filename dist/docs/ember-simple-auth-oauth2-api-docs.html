<!DOCTYPE html>
<html>
  <head>
    <title>Ember Simple Auth API</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.0.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://yandex.st/highlightjs/7.4/styles/github.min.css">
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.0.1/js/bootstrap.min.js"></script>
    <script src="http://yandex.st/highlightjs/7.4/highlight.min.js"></script>
    <style type="text/css" media="screen">
      .navbar-nav > .active > a {
        background: transparent !important;
      }
      .navbar .dropdown > a {
        padding: 15px 10px 15px 0;
      }
      .navbar .navbar-collapse {
        padding-left: 0;
      }
      h1.class, h3.property, h3.method, dl.params dt, span.type {
        font-family: Monaco, Menlo, Consolas, "Courier New", monospace;
        font-weight: bold;
      }
      p {
        text-align: justify;
      }
      span.type {
        color: #999;
      }
      span.type.return {
        font-weight:bold
      }
      .overview h4:first-child {
        margin-top: 0;
      }
      h3.section, h4.subsection {
        padding-bottom: 5px;
        border-bottom: 1px dotted #eee;
      }
      .panel-heading span.pull-right {
        margin-left: 5px;
      }
      dl.params dl.props {
        margin-left: 3em;
        margin-top: 5px;
      }
      strong {
        background-color: #fffebb;
        font-weight: normal;
        padding: 2px;
        -moz-border-radius: 2px;
        -webkit-border-radius: 2px;
      }
      pre, code {
        color: #333;
        background: #f8f8ff;
      }
      a code {
        color: #428bca;
      }
      body .container .alert:first-child {
        margin-top: 70px;
      }
      a.symbol-anchor {
        display: block;
        position: relative;
        top: -55px;
        height: 1px;
      }
    </style>
  </head>
  <body>
    
      <header class="navbar navbar-default navbar-fixed-top">
        <div class="container">
          <div class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
              <li class="dropdown" id="classesDropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown"><b class="caret"></b> <span class="caption"></span></a>
                <ul class="dropdown-menu">
                  
                    <li>
                      <a href="#SimpleAuth-Authenticators-OAuth2">SimpleAuth.Authenticators.OAuth2</a>
                    </li>
                  
                    <li>
                      <a href="#SimpleAuth-Authorizers-OAuth2">SimpleAuth.Authorizers.OAuth2</a>
                    </li>
                  
                </ul>
              </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://github.com/simplabs/ember-simple-auth"><i class="fa fa-github"></i> Source Code</a></li>
              <li><p class="navbar-text"><a href="https://github.com/simplabs/ember-simple-auth/releases/tag/0.6.3"><span class="label label-primary">0.6.3</span></a></p></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container">
        <div class="row">
          <div class="alert alert-info">For a general overview of how Ember Simple Auth works, see the <a href="https://github.com/simplabs/ember-simple-auth#readme" title="Ember Simple Auth's README github" class="alert-link">README</a></div>
        </div>
        
          <div class="row">
            <div class="col-md-12">
              <div class="page-header">
                <a id="SimpleAuth-Authenticators-OAuth2" class="symbol-anchor"></a>
                <h1 class="class">SimpleAuth.Authenticators.OAuth2</h1>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-9" id="main-content">
              <p>Authenticator that conforms to OAuth 2
(<a href="http://tools.ietf.org/html/rfc6749">RFC 6749</a>), specifically the <em>&quot;Resource
Owner Password Credentials Grant Type&quot;</em>.</p>
<p>This authenticator supports access token refresh (see
<a href="http://tools.ietf.org/html/rfc6749#section-6">RFC 6740, section 6</a>).</p>
<p><em>The factory for this authenticator is registered as
<code>&#39;simple-auth-authenticator:oauth2-password-grant&#39;</code> in Ember&#39;s
container.</em></p>

              <h4 class="section">Importing</h4>
              <dl>
                <dt>ES6 modules<dt>
                <dd>
                  <pre><code class="lang-javascript javascript">import OAuth2 from 'simple-auth-oauth2/authenticators/oauth2';</code></pre>
                </dd>
                <dt>Standard AMD<dt>
                <dd>
                  <pre><code class="lang-javascript javascript">var OAuth2 = requireModule('simple-auth-oauth2/authenticators/oauth2').default;</code></pre>
                </dd>
              </dl>
              
                <h3 class="section">Properties</h3>
                
                  <div class="panel panel-default">
  <a id="SimpleAuth-Authenticators-OAuth2-serverTokenEndpoint" class="symbol-anchor"></a>
  <div class="panel-heading">
    <a class="pull-right" href="https://github.com/simplabs/ember-simple-auth/blob/master/packages/ember-simple-auth-oauth2/lib/simple-auth-oauth2/authenticators/oauth2.js#L34"><span class="label label-default pull-right"><i class="fa fa-github"></i> source</span></a>
    
    
    <h3 class="panel-title property">serverTokenEndpoint <span class="type">String</span></h3>
  </div>
  <div class="panel-body">
    <p>The endpoint on the server the authenticator acquires the access token
from.</p>
<p>This value can be configured via the global environment object:</p>
<pre><code class="lang-js">window.ENV = window.ENV || {};
window.ENV[&#39;simple-auth-oauth2&#39;] = {
  serverTokenEndpoint: &#39;/some/custom/endpoint&#39;
}
</code></pre>

    
      Defaults to <code>&#x27;/token&#x27;</code>
      
  </div>
</div>

                
                  <div class="panel panel-default">
  <a id="SimpleAuth-Authenticators-OAuth2-serverTokenRevokationEndpoint" class="symbol-anchor"></a>
  <div class="panel-heading">
    <a class="pull-right" href="https://github.com/simplabs/ember-simple-auth/blob/master/packages/ember-simple-auth-oauth2/lib/simple-auth-oauth2/authenticators/oauth2.js#L53"><span class="label label-default pull-right"><i class="fa fa-github"></i> source</span></a>
    
    
    <h3 class="panel-title property">serverTokenRevokationEndpoint <span class="type">String</span></h3>
  </div>
  <div class="panel-body">
    <p>The endpoint on the server the authenticator uses to revoke tokens. Only
set this if the server actually supports token revokation.</p>
<p>This value can be configured via the global environment object:</p>
<pre><code class="lang-js">window.ENV = window.ENV || {};
window.ENV[&#39;simple-auth-oauth2&#39;] = {
  serverTokenRevokationEndpoint: &#39;/some/custom/endpoint&#39;
}
</code></pre>

    
      Defaults to <code>null</code>
      
  </div>
</div>

                
                  <div class="panel panel-default">
  <a id="SimpleAuth-Authenticators-OAuth2-refreshAccessTokens" class="symbol-anchor"></a>
  <div class="panel-heading">
    <a class="pull-right" href="https://github.com/simplabs/ember-simple-auth/blob/master/packages/ember-simple-auth-oauth2/lib/simple-auth-oauth2/authenticators/oauth2.js#L72"><span class="label label-default pull-right"><i class="fa fa-github"></i> source</span></a>
    
    
    <h3 class="panel-title property">refreshAccessTokens <span class="type">Boolean</span></h3>
  </div>
  <div class="panel-body">
    <p>Sets whether the authenticator automatically refreshes access tokens.</p>
<p>This value can be configured via the global environment object:</p>
<pre><code class="lang-js">window.ENV = window.ENV || {};
window.ENV[&#39;simple-auth-oauth2&#39;] = {
  refreshAccessTokens: false
}
</code></pre>

    
      Defaults to <code>true</code>
      
  </div>
</div>

                
              
              
              
                <h3 class="section">Methods</h3>
                
                  <div class="panel panel-default">
  <a id="SimpleAuth-Authenticators-OAuth2-restore" class="symbol-anchor"></a>
  <div class="panel-heading">
    <a class="pull-right" href="https://github.com/simplabs/ember-simple-auth/blob/master/packages/ember-simple-auth-oauth2/lib/simple-auth-oauth2/authenticators/oauth2.js#L107"><span class="label label-default pull-right"><i class="fa fa-github"></i> source</span></a>
    
    
    <h3 class="panel-title method">
      restore(data)
      
        <span class="type">&rarr; Ember.RSVP.Promise</span>
      
    </h3>
  </div>
  <div class="panel-body">
    <p>Restores the session from a set of session properties; <strong>will return a
resolving promise when there&#39;s a non-empty <code>access_token</code> in the <code>data</code></strong>
and a rejecting promise otherwise.</p>
<p>This method also schedules automatic token refreshing when there are values
for <code>refresh_token</code> and <code>expires_in</code> in the <code>data</code> and automatic token
refreshing is not disabled (see
<a href="#SimpleAuth-Authenticators-OAuth2-refreshAccessTokens"><code>Authenticators.OAuth2#refreshAccessTokens</code></a>).</p>

    
      <h4 class="subsection">Arguments</h4>
      <dl class="params">
        
          <dt>data <span class="type">Object</span></dt>
          <dd><p>The data to restore the session from</p>
</dd>
          
        
      </dl>
    
    
      <h4 class="subsection">Returns</h4>
      <p><span class="type return">&rarr; Ember.RSVP.Promise</span></p>
      <p>A promise that when it resolves results in the session being authenticated</p>

    
  </div>
</div>

                
                  <div class="panel panel-default">
  <a id="SimpleAuth-Authenticators-OAuth2-authenticate" class="symbol-anchor"></a>
  <div class="panel-heading">
    <a class="pull-right" href="https://github.com/simplabs/ember-simple-auth/blob/master/packages/ember-simple-auth-oauth2/lib/simple-auth-oauth2/authenticators/oauth2.js#L144"><span class="label label-default pull-right"><i class="fa fa-github"></i> source</span></a>
    
    
    <h3 class="panel-title method">
      authenticate(credentials)
      
        <span class="type">&rarr; Ember.RSVP.Promise</span>
      
    </h3>
  </div>
  <div class="panel-body">
    <p>Authenticates the session with the specified <code>credentials</code>; the credentials
are send via a <em>&quot;POST&quot;</em> request to the
<a href="#SimpleAuth-Authenticators-OAuth2-serverTokenEndpoint"><code>Authenticators.OAuth2#serverTokenEndpoint</code></a>
and if they are valid the server returns an access token in response (see
<a href="http://tools.ietf.org/html/rfc6749#section-4.3">http://tools.ietf.org/html/rfc6749#section-4.3</a>). <strong>If the credentials are
valid and authentication succeeds, a promise that resolves with the
server&#39;s response is returned</strong>, otherwise a promise that rejects with the
error is returned.</p>
<p>This method also schedules automatic token refreshing when there are values
for <code>refresh_token</code> and <code>expires_in</code> in the server response and automatic
token refreshing is not disabled (see
<a href="#SimpleAuth-Authenticators-OAuth2-refreshAccessTokens"><code>Authenticators.OAuth2#refreshAccessTokens</code></a>).</p>

    
      <h4 class="subsection">Arguments</h4>
      <dl class="params">
        
          <dt>credentials <span class="type">Object</span></dt>
          <dd><p>The credentials to authenticate the session with</p>
</dd>
          
        
      </dl>
    
    
      <h4 class="subsection">Returns</h4>
      <p><span class="type return">&rarr; Ember.RSVP.Promise</span></p>
      <p>A promise that resolves when an access token is successfully acquired from the server and rejects otherwise</p>

    
  </div>
</div>

                
                  <div class="panel panel-default">
  <a id="SimpleAuth-Authenticators-OAuth2-invalidate" class="symbol-anchor"></a>
  <div class="panel-heading">
    <a class="pull-right" href="https://github.com/simplabs/ember-simple-auth/blob/master/packages/ember-simple-auth-oauth2/lib/simple-auth-oauth2/authenticators/oauth2.js#L181"><span class="label label-default pull-right"><i class="fa fa-github"></i> source</span></a>
    
    
    <h3 class="panel-title method">
      invalidate(data)
      
        <span class="type">&rarr; Ember.RSVP.Promise</span>
      
    </h3>
  </div>
  <div class="panel-body">
    <p>Cancels any outstanding automatic token refreshes and returns a resolving
promise.</p>

    
      <h4 class="subsection">Arguments</h4>
      <dl class="params">
        
          <dt>data <span class="type">Object</span></dt>
          <dd><p>The data of the session to be invalidated</p>
</dd>
          
        
      </dl>
    
    
      <h4 class="subsection">Returns</h4>
      <p><span class="type return">&rarr; Ember.RSVP.Promise</span></p>
      <p>A resolving promise</p>

    
  </div>
</div>

                
                  <div class="panel panel-default">
  <a id="SimpleAuth-Authenticators-OAuth2-makeRequest" class="symbol-anchor"></a>
  <div class="panel-heading">
    <a class="pull-right" href="https://github.com/simplabs/ember-simple-auth/blob/master/packages/ember-simple-auth-oauth2/lib/simple-auth-oauth2/authenticators/oauth2.js#L215"><span class="label label-default pull-right"><i class="fa fa-github"></i> source</span></a>
    
    
    <h3 class="panel-title method">
      makeRequest(url, data)
      
        <span class="type">&rarr; Deferred object</span>
      
    </h3>
  </div>
  <div class="panel-body">
    <p>Sends an <code>AJAX</code> request to the <code>url</code>. This will always be a <em>&quot;POST&quot;</em>
request with content type <em>&quot;application/x-www-form-urlencoded&quot;</em> as
specified in <a href="http://tools.ietf.org/html/rfc6749">RFC 6749</a>.</p>
<p>This method is not meant to be used directly but serves as an extension
point to e.g. add <em>&quot;Client Credentials&quot;</em> (see
<a href="http://tools.ietf.org/html/rfc6749#section-2.3">RFC 6749, section 2.3</a>).</p>

    
      <h4 class="subsection">Arguments</h4>
      <dl class="params">
        
          <dt>url <span class="type">Object</span></dt>
          <dd><p>The url to send the request to</p>
</dd>
          
        
          <dt>data <span class="type">Object</span></dt>
          <dd><p>The data to send with the request, e.g. username and password or the refresh token</p>
</dd>
          
        
      </dl>
    
    
      <h4 class="subsection">Returns</h4>
      <p><span class="type return">&rarr; Deferred object</span></p>
      <p>A Deferred object (see <a href="http://api.jquery.com/category/deferred-object/">the jQuery docs</a>) that is compatible to Ember.RSVP.Promise; will resolve if the request succeeds, reject otherwise</p>

    
  </div>
</div>

                
              
              
              
                <h3 class="section">Events</h3>
                
                  <div class="panel panel-default">
  <a id="SimpleAuth-Authenticators-OAuth2-updated" class="symbol-anchor"></a>
  <div class="panel-heading">
    <a class="pull-right" href="https://github.com/simplabs/ember-simple-auth/blob/master/packages/ember-simple-auth-oauth2/lib/simple-auth-oauth2/authenticators/oauth2.js#L26"><span class="label label-default pull-right"><i class="fa fa-github"></i> source</span></a>
    <h3 class="panel-title method">
      updated
    </h3>
  </div>
  <div class="panel-body">
    <p>Triggered when the authenticator refreshes the access token (see
<a href="http://tools.ietf.org/html/rfc6749#section-6">RFC 6740, section 6</a>).</p>

    
      <h4 class="subsection">Parameters</h4>
      <dl class="params">
        
          <dt>data <span class="type">Object</span></dt>
          <dd><p>The updated session data</p>
</dd>
        
      </dl>
    
  </div>
</div>

                
              
            </div>
            <div class="col-md-3 overview">
              
  <h4>Extends</h4>
  <p><span class="type">Base</span></p>


              

              
  <h4>Properties</h4>
  <ul class="list-unstyled">
    
      <li>
        <a href="#SimpleAuth-Authenticators-OAuth2-serverTokenEndpoint">serverTokenEndpoint</a>
      </li>
    
      <li>
        <a href="#SimpleAuth-Authenticators-OAuth2-serverTokenRevokationEndpoint">serverTokenRevokationEndpoint</a>
      </li>
    
      <li>
        <a href="#SimpleAuth-Authenticators-OAuth2-refreshAccessTokens">refreshAccessTokens</a>
      </li>
    
  </ul>


              

              
  <h4>Methods</h4>
  <ul class="list-unstyled">
    
      <li>
        <a href="#SimpleAuth-Authenticators-OAuth2-restore">restore</a>
      </li>
    
      <li>
        <a href="#SimpleAuth-Authenticators-OAuth2-authenticate">authenticate</a>
      </li>
    
      <li>
        <a href="#SimpleAuth-Authenticators-OAuth2-invalidate">invalidate</a>
      </li>
    
      <li>
        <a href="#SimpleAuth-Authenticators-OAuth2-makeRequest">makeRequest</a>
      </li>
    
  </ul>


              

              
  <h4>Events</h4>
  <ul class="list-unstyled">
    
      <li>
        <a href="#SimpleAuth-Authenticators-OAuth2-updated">updated</a>
      </li>
    
  </ul>


            </div>
          </div>
        
          <div class="row">
            <div class="col-md-12">
              <div class="page-header">
                <a id="SimpleAuth-Authorizers-OAuth2" class="symbol-anchor"></a>
                <h1 class="class">SimpleAuth.Authorizers.OAuth2</h1>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-9" id="main-content">
              <p>Authorizer that conforms to OAuth 2
(<a href="http://tools.ietf.org/html/rfc6749">RFC 6749</a>) by sending a bearer token
(<a href="http://tools.ietf.org/html/rfc6750">RFC 6749</a>) in the request&#39;s
<code>Authorization</code> header.</p>
<p><em>The factory for this authorizer is registered as
<code>&#39;simple-auth-authorizer:oauth2-bearer&#39;</code> in Ember&#39;s container.</em></p>

              <h4 class="section">Importing</h4>
              <dl>
                <dt>ES6 modules<dt>
                <dd>
                  <pre><code class="lang-javascript javascript">import OAuth2 from 'simple-auth-devise/authorizers/oauth2';</code></pre>
                </dd>
                <dt>Standard AMD<dt>
                <dd>
                  <pre><code class="lang-javascript javascript">var OAuth2 = requireModule('simple-auth-devise/authorizers/oauth2').default;</code></pre>
                </dd>
              </dl>
              
              
              
                <h3 class="section">Methods</h3>
                
                  <div class="panel panel-default">
  <a id="SimpleAuth-Authorizers-OAuth2-authorize" class="symbol-anchor"></a>
  <div class="panel-heading">
    <a class="pull-right" href="https://github.com/simplabs/ember-simple-auth/blob/master/packages/ember-simple-auth-oauth2/lib/simple-auth-oauth2/authorizers/oauth2.js#L22"><span class="label label-default pull-right"><i class="fa fa-github"></i> source</span></a>
    
    
    <h3 class="panel-title method">
      authorize(jqXHR, requestOptions)
      
    </h3>
  </div>
  <div class="panel-body">
    <p>Authorizes an XHR request by sending the <code>access_token</code> property from the
session as a bearer token in the <code>Authorization</code> header:</p>
<pre><code>Authorization: Bearer &lt;access_token&gt;
</code></pre>
    
      <h4 class="subsection">Arguments</h4>
      <dl class="params">
        
          <dt>jqXHR <span class="type">JqXHR</span></dt>
          <dd><p>The XHR request to authorize (see <a href="http://api.jquery.com/jQuery.ajax/#jqXHR">http://api.jquery.com/jQuery.ajax/#jqXHR</a>)</p>
</dd>
          
        
          <dt>requestOptions <span class="type">Object</span></dt>
          <dd><p>The options as provided to the <code>$.ajax</code> method (see <a href="http://api.jquery.com/jQuery.ajaxPrefilter/">http://api.jquery.com/jQuery.ajaxPrefilter/</a>)</p>
</dd>
          
        
      </dl>
    
    
  </div>
</div>

                
              
              
              
            </div>
            <div class="col-md-3 overview">
              
  <h4>Extends</h4>
  <p><span class="type">Base</span></p>


              

              

              

              
  <h4>Methods</h4>
  <ul class="list-unstyled">
    
      <li>
        <a href="#SimpleAuth-Authorizers-OAuth2-authorize">authorize</a>
      </li>
    
  </ul>


              

              

            </div>
          </div>
        
      </div>
      <script type="text/javascript" charset="utf-8">
        $(function() {
          hljs.initHighlightingOnLoad();
          function updateDropdownCaption(text) {
            if (!!text) {
              $('.navbar .dropdown .dropdown-toggle .caption').text(text);
            }
          }
          $('.navbar .dropdown a[class!="dropdown-toggle"]').on('click', function() {
            updateDropdownCaption($(this).text());
          });
          updateDropdownCaption($('.navbar .dropdown a[href="' + document.location.hash + '"]').text());
          $('body').scrollspy({ target: '.navbar' }).on('activate.bs.scrollspy', function(e) {
            var link = $(e.target).find('.dropdown-menu li.active a');
            updateDropdownCaption(link.text());
          });
          var dropdownCaption = $('.navbar .dropdown li:first-child').text();
          updateDropdownCaption(dropdownCaption);
        });
      </script>
    
  </body>
</html>
